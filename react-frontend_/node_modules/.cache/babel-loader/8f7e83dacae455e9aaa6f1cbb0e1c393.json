{"ast":null,"code":"var _jsxFileName = \"e:\\\\Personal Stuff\\\\Study\\\\Assignments\\\\ReaCTjs\\\\NOSTRA HIRING ASSIGNMENT\\\\react-frontend\\\\src\\\\components\\\\wallet\\\\wallet.js\";\nimport React from 'react';\nimport '../../style/common/common.scss';\nimport './wallet.scss';\nimport logo from \"../../logo.svg\";\nimport { getWalletInfo } from '../../services/apis';\n\nclass Wallet extends React.Component {\n  constructor() {\n    super();\n\n    this.componentDidMount = () => {\n      const that = this;\n      const result = getWalletInfo();\n      result.then(function (res) {\n        if (res.data) {\n          const data = res.data;\n          let {\n            wallet_balance,\n            transactions,\n            withdrawals\n          } = that.state;\n          let withdrawal_info = {\n            's': {\n              'count': 0,\n              'amt': 0\n            },\n            'f': {\n              'count': 0,\n              'amt': 0\n            },\n            'ip': {\n              'count': 0,\n              'amt': 0\n            }\n          };\n          let wallet_balanceL = data.wallet_balance,\n              transactionsL = data.transactions,\n              withdrawalsL = data.withdrawals;\n          if (wallet_balanceL && wallet_balanceL > 0) wallet_balance = wallet_balanceL;\n          if (transactionsL && transactionsL.length > 0) transactions = transactionsL;\n\n          if (withdrawalsL && withdrawalsL.length > 0) {\n            withdrawals = withdrawalsL;\n            withdrawals.forEach(withdrawal => {\n              if (withdrawal.status == 'in_progress') {\n                withdrawal_info.ip.count = withdrawal_info.ip.count++;\n                withdrawal.ip.amount = withdrawal.ip.amount + withdrawal.amount;\n              } else if (withdrawal.status == 'success') {\n                withdrawal_info.s.count = withdrawal_info.s.count++;\n                withdrawal.s.amount = withdrawal.s.amount + withdrawal.amount;\n              } else if (withdrawal.status == 'failed') {\n                withdrawal_info.f.count = withdrawal_info.f.count++;\n                withdrawal.f.amount = withdrawal.f.amount + withdrawal.amount;\n              }\n            });\n          }\n\n          that.setState({\n            wallet_balance,\n            transactions,\n            withdrawals,\n            withdrawal_info\n          });\n        } else {// that.NetworkError();\n        }\n      }).catch(function (error) {// that.NetworkError();\n      });\n    };\n\n    this.getTransactionCards = (transactions = [], transaction_type) => /*#__PURE__*/React.createElement(\"div\", {\n      className: \"transactions_sec \" + transaction_type,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 4\n      }\n    }, transactions.map((transaction, key) => {\n      const txnTxt = this.getTransactionTxt(transaction);\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: txnTxt !== '' ? \"ui_card dispFlex txn_card\" : \"dispNone\",\n        key: 'transactions_sec' + ' ' + key,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"dispFlex top\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"amt_sec\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 16\n        }\n      }, /*#__PURE__*/React.createElement(\"span\", {\n        className: \"rupee\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 41\n        }\n      }), transaction.amount, /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 92\n        }\n      }, \"\\xA0\")), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"contest_category_img\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 16\n        }\n      }, \" \", /*#__PURE__*/React.createElement(\"img\", {\n        src: logo,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 55\n        }\n      }), \" \")), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"txn_det_txt\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }\n      }, \" \", txnTxt));\n    }));\n\n    this.showTransactons = (transactions = []) => {\n      const that = this;\n      let walletTransactions = transactions.filter(transaction => transaction.type != \"join_contest\"),\n          contestTransactions = transactions.filter(transaction => transaction.type == \"join_contest\");\n      console.log(transactions);\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 7\n        }\n      }, that.getTransactionCards(walletTransactions, 'wallet'), that.getTransactionCards(contestTransactions, 'contest'));\n    };\n\n    this.getTransactionTxt = transaction => {\n      let that = this;\n      let txnTxt = '',\n          txnStatus = '';\n\n      switch (transaction.type) {\n        case \"add_to_wallet\":\n          txnTxt = \"Add money \";\n          txnStatus = that.getTransactionStatus(transaction.status);\n          break;\n\n        case \"remove_from_wallet\":\n          txnTxt = \"Remove money \";\n          txnStatus = that.getTransactionStatus(transaction.status);\n          break;\n\n        case \"join_contest\":\n          txnTxt = \"Join a paid Contest\";\n          break;\n      }\n\n      return txnTxt.trim() != '' ? txnTxt + ' ' + txnStatus : '';\n    };\n\n    this.getTransactionStatus = status => status == 'success' ? \"Successful\" : \"Unsuccessful\";\n\n    this.state = {\n      showLoader: false,\n      networkproblem: false,\n      wallet_balance: 0,\n      transactions: [],\n      withdrawals: [],\n      withdrawal_info: {\n        's': {\n          'count': 0,\n          'amt': 0\n        },\n        'f': {\n          'count': 0,\n          'amt': 0\n        },\n        'ip': {\n          'count': 0,\n          'amt': 0\n        }\n      }\n    };\n  }\n\n  render() {\n    const that = this;\n    console.log(that.state);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"wallet\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 14\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"top_sec center dispFlex\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: \"arrow left back_arrow\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"header_title dispFlex\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 11\n      }\n    }, \" Trasaction History\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"content_sec\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"dispFlex balance_card\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"top\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 13\n      }\n    }, \"TOTAL BALANCE\", /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 47\n      }\n    }, \"\\xA0\"), \" \", /*#__PURE__*/React.createElement(\"span\", {\n      className: \"rupee\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 67\n      }\n    }), that.state.wallet_balance), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"bottom\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 13\n      }\n    }, that.state.withdrawal_info.ip.count, \" withdrawal in progress\")), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"ui_card dispFlex wip_card\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"contest_category_img\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 13\n      }\n    }, \" \", /*#__PURE__*/React.createElement(\"img\", {\n      src: logo,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 52\n      }\n    }), \" \"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"details_sec\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"top\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      className: \"rupee\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 18\n      }\n    }), that.state.withdrawal_info.ip.amt, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 84\n      }\n    }, \"\\xA0\"), \" withdrawal in progress\"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"bottom\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 15\n      }\n    }, \" withdrawan from your winnings\"))), that.showTransactons(that.state.transactions)));\n  }\n\n}\n\nexport default Wallet;","map":{"version":3,"sources":["e:/Personal Stuff/Study/Assignments/ReaCTjs/NOSTRA HIRING ASSIGNMENT/react-frontend/src/components/wallet/wallet.js"],"names":["React","getWalletInfo","Wallet","Component","constructor","componentDidMount","that","result","then","res","data","wallet_balance","transactions","withdrawals","state","withdrawal_info","wallet_balanceL","transactionsL","withdrawalsL","length","forEach","withdrawal","status","ip","count","amount","s","f","setState","catch","error","getTransactionCards","transaction_type","map","transaction","key","txnTxt","getTransactionTxt","logo","showTransactons","walletTransactions","filter","type","contestTransactions","console","log","txnStatus","getTransactionStatus","trim","showLoader","networkproblem","render","amt"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAO,gCAAP;AACA,OAAO,eAAP;;AAEA,SAASC,aAAT,QAA8B,qBAA9B;;AAGA,MAAMC,MAAN,SAAqBF,KAAK,CAACG,SAA3B,CAAqC;AAGnCC,EAAAA,WAAW,GAAG;AACZ;;AADY,SAedC,iBAfc,GAeM,MAAM;AACxB,YAAMC,IAAI,GAAG,IAAb;AACA,YAAMC,MAAM,GAAGN,aAAa,EAA5B;AACAM,MAAAA,MAAM,CAACC,IAAP,CAAY,UAAUC,GAAV,EAAe;AACzB,YAAIA,GAAG,CAACC,IAAR,EAAc;AACZ,gBAAMA,IAAI,GAAGD,GAAG,CAACC,IAAjB;AACA,cAAK;AAAEC,YAAAA,cAAF;AAAkBC,YAAAA,YAAlB;AAAiCC,YAAAA;AAAjC,cAAkDP,IAAI,CAACQ,KAA5D;AACA,cAAIC,eAAe,GAAE;AAAC,iBAAI;AAAC,uBAAQ,CAAT;AAAW,qBAAM;AAAjB,aAAL;AAA0B,iBAAI;AAAC,uBAAQ,CAAT;AAAW,qBAAM;AAAjB,aAA9B;AAAmD,kBAAK;AAAC,uBAAQ,CAAT;AAAW,qBAAM;AAAjB;AAAxD,WAArB;AACA,cAAIC,eAAe,GAAGN,IAAI,CAACC,cAA3B;AAAA,cAA2CM,aAAa,GAAGP,IAAI,CAACE,YAAhE;AAAA,cAA8EM,YAAY,GAAGR,IAAI,CAACG,WAAlG;AACA,cAAIG,eAAe,IAAIA,eAAe,GAAC,CAAvC,EAA2CL,cAAc,GAAGK,eAAjB;AAC3C,cAAIC,aAAa,IAAIA,aAAa,CAACE,MAAd,GAAqB,CAA1C,EAA6CP,YAAY,GAAGK,aAAf;;AAC7C,cAAGC,YAAY,IAAIA,YAAY,CAACC,MAAb,GAAoB,CAAvC,EAA0C;AACxCN,YAAAA,WAAW,GAAGK,YAAd;AACAL,YAAAA,WAAW,CAACO,OAAZ,CAAoBC,UAAU,IAAI;AAChC,kBAAGA,UAAU,CAACC,MAAX,IAAmB,aAAtB,EAAoC;AAClCP,gBAAAA,eAAe,CAACQ,EAAhB,CAAmBC,KAAnB,GAA4BT,eAAe,CAACQ,EAAhB,CAAmBC,KAApB,EAA3B;AAAyDH,gBAAAA,UAAU,CAACE,EAAX,CAAcE,MAAd,GAAuBJ,UAAU,CAACE,EAAX,CAAcE,MAAd,GAAuBJ,UAAU,CAACI,MAAzD;AAC1D,eAFD,MAGK,IAAGJ,UAAU,CAACC,MAAX,IAAmB,SAAtB,EAAgC;AACnCP,gBAAAA,eAAe,CAACW,CAAhB,CAAkBF,KAAlB,GAA2BT,eAAe,CAACW,CAAhB,CAAkBF,KAAnB,EAA1B;AAAuDH,gBAAAA,UAAU,CAACK,CAAX,CAAaD,MAAb,GAAsBJ,UAAU,CAACK,CAAX,CAAaD,MAAb,GAAsBJ,UAAU,CAACI,MAAvD;AACxD,eAFI,MAGA,IAAGJ,UAAU,CAACC,MAAX,IAAmB,QAAtB,EAA+B;AAClCP,gBAAAA,eAAe,CAACY,CAAhB,CAAkBH,KAAlB,GAA2BT,eAAe,CAACY,CAAhB,CAAkBH,KAAnB,EAA1B;AAAuDH,gBAAAA,UAAU,CAACM,CAAX,CAAaF,MAAb,GAAsBJ,UAAU,CAACM,CAAX,CAAaF,MAAb,GAAsBJ,UAAU,CAACI,MAAvD;AACxD;AACF,aAVD;AAWD;;AACDnB,UAAAA,IAAI,CAACsB,QAAL,CAAc;AAAEjB,YAAAA,cAAF;AAAkBC,YAAAA,YAAlB;AAAgCC,YAAAA,WAAhC;AAA6CE,YAAAA;AAA7C,WAAd;AACD,SAtBD,MAuBK,CACH;AACD;AACF,OA3BD,EA4BGc,KA5BH,CA4BS,UAAUC,KAAV,EAAiB,CACtB;AACD,OA9BH;AA+BD,KAjDa;;AAAA,SAmDdC,mBAnDc,GAmDQ,CAACnB,YAAY,GAAC,EAAd,EAAiBoB,gBAAjB,kBACrB;AAAK,MAAA,SAAS,EAAE,sBAAoBA,gBAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAEOpB,YAAY,CAACqB,GAAb,CAAiB,CAACC,WAAD,EAAaC,GAAb,KAAmB;AAClC,YAAMC,MAAM,GAAG,KAAKC,iBAAL,CAAuBH,WAAvB,CAAf;AACF,0BAAM;AAAK,QAAA,SAAS,EAAEE,MAAM,KAAG,EAAT,GAAY,2BAAZ,GAAwC,UAAxD;AAAoE,QAAA,GAAG,EAAE,qBAAqB,GAArB,GAA0BD,GAAnG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACN;AAAK,QAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACK;AAAK,QAAA,SAAS,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBAAyB;AAAM,QAAA,SAAS,EAAC,OAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAzB,EAAyDD,WAAW,CAACT,MAArE,eAA4E;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAA5E,CADL,eAEK;AAAK,QAAA,SAAS,EAAC,sBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BAAuC;AAAK,QAAA,GAAG,EAAEa,IAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAvC,MAFL,CADM,eAKN;AAAK,QAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAA+BF,MAA/B,CALM,CAAN;AAOD,KATC,CAFP,CApDa;;AAAA,SAoEdG,eApEc,GAoEI,CAAC3B,YAAY,GAAC,EAAd,KAAqB;AACrC,YAAMN,IAAI,GAAG,IAAb;AACA,UAAIkC,kBAAkB,GAAG5B,YAAY,CAAC6B,MAAb,CAAqBP,WAAD,IAAiBA,WAAW,CAACQ,IAAZ,IAAoB,cAAzD,CAAzB;AAAA,UACIC,mBAAmB,GAAG/B,YAAY,CAAC6B,MAAb,CAAqBP,WAAD,IAAiBA,WAAW,CAACQ,IAAZ,IAAoB,cAAzD,CAD1B;AAEAE,MAAAA,OAAO,CAACC,GAAR,CAAYjC,YAAZ;AACA,0BACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACGN,IAAI,CAACyB,mBAAL,CAAyBS,kBAAzB,EAA4C,QAA5C,CADH,EAEGlC,IAAI,CAACyB,mBAAL,CAAyBY,mBAAzB,EAA6C,SAA7C,CAFH,CADF;AAOD,KAhFa;;AAAA,SAkFdN,iBAlFc,GAkFOH,WAAD,IAAiB;AACnC,UAAI5B,IAAI,GAAG,IAAX;AACA,UAAI8B,MAAM,GAAG,EAAb;AAAA,UAAiBU,SAAS,GAAG,EAA7B;;AACE,cAAOZ,WAAW,CAACQ,IAAnB;AACE,aAAK,eAAL;AAAqBN,UAAAA,MAAM,GAAC,YAAP;AAAqBU,UAAAA,SAAS,GAAGxC,IAAI,CAACyC,oBAAL,CAA0Bb,WAAW,CAACZ,MAAtC,CAAZ;AAA2D;;AACrG,aAAK,oBAAL;AAA0Bc,UAAAA,MAAM,GAAC,eAAP;AAAwBU,UAAAA,SAAS,GAAGxC,IAAI,CAACyC,oBAAL,CAA0Bb,WAAW,CAACZ,MAAtC,CAAZ;AAA2D;;AAC7G,aAAK,cAAL;AAAoBc,UAAAA,MAAM,GAAC,qBAAP;AAA6B;AAHnD;;AAKA,aAAOA,MAAM,CAACY,IAAP,MAAe,EAAf,GAAkBZ,MAAM,GAAC,GAAP,GAAWU,SAA7B,GAAuC,EAA9C;AACH,KA3Fa;;AAAA,SA6FdC,oBA7Fc,GA6FUzB,MAAD,IAAYA,MAAM,IAAE,SAAR,GAAkB,YAAlB,GAA+B,cA7FpD;;AAEZ,SAAKR,KAAL,GAAa;AACXmC,MAAAA,UAAU,EAAE,KADD;AAEXC,MAAAA,cAAc,EAAE,KAFL;AAGXvC,MAAAA,cAAc,EAAC,CAHJ;AAIXC,MAAAA,YAAY,EAAE,EAJH;AAKXC,MAAAA,WAAW,EAAE,EALF;AAMXE,MAAAA,eAAe,EAAE;AAAC,aAAI;AAAC,mBAAQ,CAAT;AAAW,iBAAM;AAAjB,SAAL;AACC,aAAI;AAAC,mBAAQ,CAAT;AAAW,iBAAM;AAAjB,SADL;AAEC,cAAK;AAAC,mBAAQ,CAAT;AAAW,iBAAM;AAAjB;AAFN;AANN,KAAb;AAWD;;AAmFCoC,EAAAA,MAAM,GAAG;AACP,UAAM7C,IAAI,GAAG,IAAb;AACAsC,IAAAA,OAAO,CAACC,GAAR,CAAYvC,IAAI,CAACQ,KAAjB;AACF,wBAAS;AAAK,MAAA,SAAS,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACL;AAAK,MAAA,SAAS,EAAC,yBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAG,MAAA,SAAS,EAAC,uBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF,eAEE;AAAK,MAAA,SAAS,EAAC,uBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,6BAFF,CADK,eAMP;AAAK,MAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACI;AAAK,MAAA,SAAS,EAAC,uBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAK,MAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qCAAkC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAAlC,oBAAsD;AAAM,MAAA,SAAS,EAAC,OAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAtD,EAAsFR,IAAI,CAACQ,KAAL,CAAWH,cAAjG,CADF,eAEE;AAAK,MAAA,SAAS,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAyBL,IAAI,CAACQ,KAAL,CAAWC,eAAX,CAA2BQ,EAA3B,CAA8BC,KAAvD,4BAFF,CADJ,eAKI;AAAK,MAAA,SAAS,EAAC,2BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAK,MAAA,SAAS,EAAC,sBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBAAuC;AAAK,MAAA,GAAG,EAAEc,IAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAvC,MADF,eAEE;AAAK,MAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACE;AAAK,MAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBACG;AAAM,MAAA,SAAS,EAAC,OAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADH,EACmChC,IAAI,CAACQ,KAAL,CAAWC,eAAX,CAA2BQ,EAA3B,CAA8B6B,GADjE,eACqE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cADrE,4BADF,eAIE;AAAK,MAAA,SAAS,EAAC,QAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wCAJF,CAFF,CALJ,EAcO9C,IAAI,CAACiC,eAAL,CAAqBjC,IAAI,CAACQ,KAAL,CAAWF,YAAhC,CAdP,CANO,CAAT;AAyBC;;AA/HgC;;AAkInC,eAAeV,MAAf","sourcesContent":["import React from 'react';\r\nimport '../../style/common/common.scss';\r\nimport './wallet.scss';\r\nimport logo from '../../logo.svg';\r\nimport { getWalletInfo } from '../../services/apis';\r\n\r\n\r\nclass Wallet extends React.Component {\r\n\r\n\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      showLoader: false,\r\n      networkproblem: false,\r\n      wallet_balance:0,\r\n      transactions: [],\r\n      withdrawals: [],\r\n      withdrawal_info :{'s':{'count':0,'amt':0},\r\n                        'f':{'count':0,'amt':0},\r\n                        'ip':{'count':0,'amt':0},\r\n                        }\r\n    }\r\n  }\r\n\r\n  componentDidMount = () => {\r\n    const that = this\r\n    const result = getWalletInfo();\r\n    result.then(function (res) {\r\n      if (res.data) {\r\n        const data = res.data\r\n        let  { wallet_balance ,transactions , withdrawals  } = that.state;\r\n        let withdrawal_info ={'s':{'count':0,'amt':0}, 'f':{'count':0,'amt':0}, 'ip':{'count':0,'amt':0}}\r\n        let wallet_balanceL = data.wallet_balance, transactionsL = data.transactions, withdrawalsL = data.withdrawals;\r\n        if( wallet_balanceL && wallet_balanceL>0 ) wallet_balance = wallet_balanceL;\r\n        if( transactionsL && transactionsL.length>0) transactions = transactionsL;\r\n        if(withdrawalsL && withdrawalsL.length>0) {\r\n          withdrawals = withdrawalsL;\r\n          withdrawals.forEach(withdrawal => {\r\n            if(withdrawal.status=='in_progress'){\r\n              withdrawal_info.ip.count = (withdrawal_info.ip.count)++; withdrawal.ip.amount = withdrawal.ip.amount + withdrawal.amount;\r\n            }\r\n            else if(withdrawal.status=='success'){\r\n              withdrawal_info.s.count = (withdrawal_info.s.count)++; withdrawal.s.amount = withdrawal.s.amount + withdrawal.amount;\r\n            }\r\n            else if(withdrawal.status=='failed'){\r\n              withdrawal_info.f.count = (withdrawal_info.f.count)++; withdrawal.f.amount = withdrawal.f.amount + withdrawal.amount;\r\n            }\r\n          });\r\n        }\r\n        that.setState({ wallet_balance, transactions, withdrawals, withdrawal_info });\r\n      }\r\n      else {\r\n        // that.NetworkError();\r\n      }\r\n    })\r\n      .catch(function (error) {\r\n        // that.NetworkError();\r\n      });\r\n  }\r\n\r\n  getTransactionCards = (transactions=[],transaction_type) =>\r\n  (<div className={\"transactions_sec \"+transaction_type}>\r\n        {\r\n          transactions.map((transaction,key)=>{\r\n            const txnTxt = this.getTransactionTxt(transaction)\r\n          return<div className={txnTxt!==''?\"ui_card dispFlex txn_card\":\"dispNone\"} key={'transactions_sec' + ' '+ key}>\r\n          <div className=\"dispFlex top\">\r\n               <div className=\"amt_sec\"><span className=\"rupee\"></span>{transaction.amount}<span>&nbsp;</span></div>\r\n               <div className=\"contest_category_img\"> <img src={logo}></img> </div>\r\n          </div>\r\n          <div className=\"txn_det_txt\"> {txnTxt}</div>\r\n        </div>\r\n        }\r\n        )}\r\n    </div>)\r\n  \r\n\r\n  showTransactons = (transactions=[]) => {\r\n    const that = this\r\n    let walletTransactions = transactions.filter((transaction) => transaction.type != \"join_contest\"),\r\n        contestTransactions = transactions.filter((transaction) => transaction.type == \"join_contest\");\r\n    console.log(transactions)\r\n    return(\r\n      <div>\r\n        {that.getTransactionCards(walletTransactions,'wallet')}\r\n        {that.getTransactionCards(contestTransactions,'contest')}\r\n        </div>\r\n    )\r\n\r\n  }\r\n\r\n  getTransactionTxt = (transaction) => {\r\n    let that = this\r\n    let txnTxt = '', txnStatus = '';\r\n      switch(transaction.type){\r\n        case \"add_to_wallet\":txnTxt=\"Add money \"; txnStatus = that.getTransactionStatus(transaction.status); break;\r\n        case \"remove_from_wallet\":txnTxt=\"Remove money \"; txnStatus = that.getTransactionStatus(transaction.status); break;\r\n        case \"join_contest\":txnTxt=\"Join a paid Contest\";break;\r\n      }\r\n      return txnTxt.trim()!=''?txnTxt+' '+txnStatus:'';\r\n  } \r\n\r\n  getTransactionStatus = (status) => status=='success'?\"Successful\":\"Unsuccessful\";\r\n\r\n\r\n    render() {\r\n      const that = this\r\n      console.log(that.state)\r\n    return ( <div className=\"wallet\">\r\n        <div className=\"top_sec center dispFlex\">\r\n          <i className=\"arrow left back_arrow\"></i>\r\n          <div className='header_title dispFlex'> Trasaction History \r\n        </div>\r\n      </div>\r\n      <div className=\"content_sec\">\r\n          <div className=\"dispFlex balance_card\">\r\n            <div className=\"top\">TOTAL BALANCE<span>&nbsp;</span> <span className=\"rupee\"></span>{that.state.wallet_balance}</div>\r\n            <div className=\"bottom\">{that.state.withdrawal_info.ip.count} withdrawal in progress</div>\r\n          </div>\r\n          <div className=\"ui_card dispFlex wip_card\">\r\n            <div className=\"contest_category_img\"> <img src={logo}></img> </div>\r\n            <div className=\"details_sec\">\r\n              <div className=\"top\">\r\n                 <span className=\"rupee\"></span>{that.state.withdrawal_info.ip.amt}<span>&nbsp;</span> withdrawal in progress\r\n              </div>\r\n              <div className=\"bottom\"> withdrawan from your winnings</div>\r\n            </div>\r\n          </div>\r\n            {that.showTransactons(that.state.transactions)}\r\n          {/* {that.showContestCategories(that.state.contest_types)}\r\n          {that.showContestDetails(that.state.contestsToShow)} */}\r\n        </div>\r\n      </div>) \r\n    }\r\n  }\r\n\r\n  export default Wallet;"]},"metadata":{},"sourceType":"module"}